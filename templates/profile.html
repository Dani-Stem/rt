{% extends "base.html" %}
{% block title %}Profile - RealTop{% endblock %}
{% block content_main_class %}gradient-container{% endblock %}
{% block content_main %}
          <p class="title_search profile-title">Profile</p>
          {% with messages = get_flashed_messages(with_categories=true) %} {% if
          messages %} {% for category, message in messages %} {% if category ==
          'profile' %}
          <div class="profile-flash">{{ message }}</div>
          {% endif %} {% endfor %} {% endif %} {% endwith %}
          <div class="profile-stack">
            <div class="profile-card profile-info">
              <div class="avatar-large">
                {% if current_user.profile_pic %}
                <img src="{{ current_user.profile_pic }}" alt="Avatar" />
                {% else %}
                <div class="avatar-placeholder">
                  {{ current_user.username[0]|upper }}
                </div>
                {% endif %}
              </div>

              <p class="profile-line">
                <span class="profile-label">Username:</span>
                <span class="profile-value">{{ current_user.username }}</span>
              </p>

              <p class="profile-line">
                <span class="profile-label">Email:</span>
                <span class="profile-value">{{ current_user.email }}</span>
              </p>

              {% if current_user.profile_pic %}
              <form action="/profile/remove" method="post">
                <button type="submit" class="btn-remove-avatar" aria-label="Remove picture">
                  Ã—
                </button>
              </form>
              {% endif %}
            </div>

            <div class="profile-card profile-upload">
              <p class="profile-section-title">Profile Picture</p>
              <form
                class="profile-upload-form"
                action="/profile/upload"
                method="post"
                enctype="multipart/form-data"
              >
                <input type="file" name="profile_pic" accept="image/*" />
                <div class="profile-actions">
                  <button type="submit" class="btn-submit">Upload</button>
                  <a href="/browse" class="btn-done">Done</a>
                </div>
              </form>
            </div>
          </div>
        
{% endblock %}
