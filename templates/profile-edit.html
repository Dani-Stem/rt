{% extends "base.html" %} {% block title %}Profile - RealTop{% endblock %} {%
block content_main_class %}gradient-container{% endblock %} {% block
content_main %}
{% with messages = get_flashed_messages(with_categories=true) %} {% if messages
%} {% for category, message in messages %} {% if category == 'profile' %}
<div
  class="profile-flash{% if message == 'Profile picture updated.' %} is-success{% endif %}"
>
  {{ message }}
</div>
{% endif %} {% endfor %} {% endif %} {% endwith %}
<div class="profile-stack">

  <div class="profile-card profile-upload-form">   
    <span class="profile-label">Profile Photo:</span>
    <div class="avatar-large">
      {% if current_user.profile_pic %}
      <img src="{{ current_user.profile_pic }}" alt="Avatar" />
      {% else %}
      <div class="avatar-placeholder">{{ current_user.username[0]|upper }}</div>
      {% endif %}
    </div>
      <form
        action="/profile/upload"
        method="post"
        enctype="multipart/form-data"
      >
        <input type="file" name="profile_pic" accept="image/*" />
        <br /><br />
        <button type="submit" class="btn-submit">Upload</button>
        <a href="/browse" class="btn-cancel">Done</a>
      </form>
  </div>
  
  <div class="profile-card profile-info">
    <div>  
    <span class="profile-label">Username:</span>
    <textarea
      id="cohesive_reason"
      name="cohesive_reason"
      rows="1"
      cols="20"
      placeholder="{{ current_user.username }}"
    ></textarea>
    <button type="submit" class="btn-submit">Submit</button>
    </div>
  </div>

  <div class="profile-card edit-about-sectioin">
      <span class="profile-label">About:</span>
      <br/>
    <textarea
      id="cohesive_reason"
      name="cohesive_reason"
      rows="2"
      cols="40"
      placeholder="{{ current_user.about }}"
    ></textarea>
    <button type="submit" class="btn-submit">Submit</button>

  </div>
  

</div>

{% endblock %}
