{% extends "base.html" %} {% block title %}Rating Details - RealTop{% endblock
%} {% block content_main_class %}ratings-container{% endblock %} {% block
content_main %}
<div class="page-head rating-detail-head">
  <p class="title_search">Rating Details</p>
  <span class="rating-percent">{{ percent }}%</span>
</div>

<div class="rating-alt">
  <section class="rating-summary">
    <div class="summary-main">
      <div style="display: flex; align-items: center; gap: 8px">
        {% if owner %}
        <span class="avatar-wrap"  onclick="window.location='/profile/{{ rating[9] }}'">
          {% if owner_pic %}
          <img class="avatar" src="{{ owner_pic }}" alt="{{ owner }} avatar" />
          {% else %}
          <span class="avatar-initial">{{ owner[0]|upper }}</span>
          {% endif %}
        </span>
        {% endif %}
        <div>
          <h2 class="title" style="margin: 0">
            {{ rating[1] }}
            <span class="divider">•</span>
            <span class="subject">{{ rating[2] }}</span>
          </h2>
        </div>
      </div>
    </div>
    <div class="summary-pills">
      <span class="pill">Lyrics <b>{{ rating[3] }}</b></span>
      <span class="pill">Beat <b>{{ rating[5] }}</b></span>
      <span class="pill">Flow <b>{{ rating[7] }}</b></span>
      <span class="pill">Melody <b>{{ rating[9] }}</b></span>
      <span class="pill">Cohesive <b>{{ rating[11] }}</b></span>
    </div>
  </section>

  <section class="rating-details">
    <div class="detail-item">
      <div class="detail-head">
        <h3>Lyrics</h3>
        <span class="detail-score">{{ rating[3] }}</span>
      </div>
      <p class="reason">{{ rating[4] or 'No reason provided.' }}</p>
      {% set reactions = detail_reactions.get('Lyrics') if detail_reactions else
      [] %} {% if reactions %}
      <div class="rating-reactions rating-reactions-bottom" aria-hidden="true">
        {% for emoji in reactions %}
        <span class="rating-emoji">{{ emoji }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="detail-item">
      <div class="detail-head">
        <h3>Beat</h3>
        <span class="detail-score">{{ rating[5] }}</span>
      </div>
      <p class="reason">{{ rating[6] or 'No reason provided.' }}</p>
      {% set reactions = detail_reactions.get('Beat') if detail_reactions else
      [] %} {% if reactions %}
      <div class="rating-reactions rating-reactions-bottom" aria-hidden="true">
        {% for emoji in reactions %}
        <span class="rating-emoji">{{ emoji }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="detail-item">
      <div class="detail-head">
        <h3>Flow</h3>
        <span class="detail-score">{{ rating[7] }}</span>
      </div>
      <p class="reason">{{ rating[8] or 'No reason provided.' }}</p>
      {% set reactions = detail_reactions.get('Flow') if detail_reactions else
      [] %} {% if reactions %}
      <div class="rating-reactions rating-reactions-bottom" aria-hidden="true">
        {% for emoji in reactions %}
        <span class="rating-emoji">{{ emoji }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="detail-item">
      <div class="detail-head">
        <h3>Melody</h3>
        <span class="detail-score">{{ rating[9] }}</span>
      </div>
      <p class="reason">{{ rating[10] or 'No reason provided.' }}</p>
      {% set reactions = detail_reactions.get('Melody') if detail_reactions else
      [] %} {% if reactions %}
      <div class="rating-reactions rating-reactions-bottom" aria-hidden="true">
        {% for emoji in reactions %}
        <span class="rating-emoji">{{ emoji }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="detail-item">
      <div class="detail-head">
        <h3>Cohesive</h3>
        <span class="detail-score">{{ rating[11] }}</span>
      </div>
      <p class="reason">{{ rating[12] or 'No reason provided.' }}</p>
      {% set reactions = detail_reactions.get('Cohesive') if detail_reactions
      else [] %} {% if reactions %}
      <div class="rating-reactions rating-reactions-bottom" aria-hidden="true">
        {% for emoji in reactions %}
        <span class="rating-emoji">{{ emoji }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </section>

  <div class="rating-actions">
    <!-- https://www.compart.com/en/unicode/U+2190 (source for the left arrow "←") -->
    <a href="/browse" class="btn-cancel">← Go to Browse</a>
  </div>
</div>
{% endblock %}
